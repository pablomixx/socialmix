{"version":3,"sources":["../node_modules/@firebase/util/dist sync","fbase.js","components/AuthForm.js","routes/Auth.js","components/Smix.js","components/SmixFactory.js","routes/Home.js","routes/Profile.js","components/Navigation.js","components/Router.js","components/App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","AuthForm","_useState","useState","_useState2","Object","slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","newAccount","setNewAccount","_useState7","_useState8","error","setError","onChange","event","_event$target","target","name","value","onSubmit","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","preventDefault","createUserWithEmailAndPassword","sent","signInWithEmailAndPassword","t0","message","stop","_x","apply","this","arguments","react_default","a","createElement","Fragment","type","placeholder","required","onClick","Auth","onSocialClick","Auth_regeneratorRuntime","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","components_AuthForm","Smix","smixObj","isOwner","editing","setEditing","text","newSmix","setNewSmix","onDeleteClick","_ref2","Smix_regeneratorRuntime","window","confirm","doc","concat","delete","attachmentUrl","refFromURL","toggleEditing","_ref3","_callee2","_context2","update","src","height","alt","SmixFactory","userObj","smix","setSmix","attachment","setAttachment","SmixFactory_regeneratorRuntime","attachmentRef","response","ref","uid","v4","uploadString","getDownloadURL","collection","add","createdAt","Date","now","creatorId","maxLength","accept","theFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","width","Home","smixs","setSmixs","useEffect","orderBy","onSnapshot","snapshot","newArray","docs","map","document","objectSpread","data","components_SmixFactory","components_Smix","key","Profile","refreshUser","history","useHistory","displayName","newDisplayName","setNewDisplayName","Profile_regeneratorRuntime","updateProfile","signOut","push","Navigation","react_router_dom","to","AppRouter","isLoggedIn","components_Navigation","react_router","exact","path","routes_Home","routes_Profile","routes_Auth","App","init","setInit","setUserObj","onAuthStateChanged","user","args","Router","currentUser","Boolean","getFullYear","ReactDOM","render","StrictMode","components_App","getElementById"],"mappings":"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","file":"static/js/main.85b1b4b6.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 51;","import firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/storage\";\n\n\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nexport const firebaseInstance = firebase;\n\nexport const authService = firebase.auth();\nexport const dbService = firebase.firestore();\nexport const storageService = firebase.storage();\n","import React, { useState } from \"react\";\nimport { authService } from \"../fbase\";\n\nconst AuthForm = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newAccount, setNewAccount] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n  };\n  \n  const onSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      let data;\n\n      if (newAccount) {\n        // create newAccount\n        data = await authService.createUserWithEmailAndPassword(\n          email,\n          password\n        );\n      } else {\n        // log in\n        data = await authService.signInWithEmailAndPassword(email, password);\n      }\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  const toggleAccount = () => setNewAccount((prev) => !prev);\n\n  return (\n    <>\n        <form onSubmit={onSubmit}>\n            <input\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            required\n            value={email}\n            onChange={onChange}\n            />\n            <input\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n            value={password}\n            onChange={onChange}\n            />\n            <input\n            type=\"submit\"\n            value={newAccount ? \"Create Account\" : \"Sign In\"}\n            />\n            {error}\n        </form>\n        <span onClick={toggleAccount}>\n        {newAccount ? \"Sign In\" : \"Create Account\"}\n        </span>\n    </>\n  );\n};\n\nexport default AuthForm;","import React from \"react\";\nimport { authService, firebaseInstance } from \"../fbase\";\nimport AuthForm from \"../components/AuthForm\";\n\n\nconst Auth = () => {\n  const onSocialClick = async (event) => {\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new firebaseInstance.auth.GithubAuthProvider();\n    }\n    const data = await authService.signInWithPopup(provider);\n  };\n\n  return (\n    <div>\n      <AuthForm />\n      <div>\n        <button onClick={onSocialClick} name=\"google\">\n          Continue with Google\n        </button>\n        <button onClick={onSocialClick} name=\"github\">\n          Continue with Github\n        </button>\n      </div>\n    </div>\n  );\n};\nexport default Auth;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { dbService, storageService } from \"../fbase\";\n\n\nconst Smix = ({ smixObj, isOwner }) => {\n    const [editing, setEditing] = useState(false);\n    const [newSmix, setNewSmix] = useState(smixObj.text);\n    const onDeleteClick = async () => {\n        const ok = window.confirm(\"Do you want to delete this smix?\");\n        if (ok) {\n            await dbService.doc(`smixs/${smixObj.id}`).delete();\n            if (smixObj.attachmentUrl !== \"\")\n                await storageService.refFromURL(smixObj.attachmentUrl).delete();\n        }\n    };\n\n    const toggleEditing = () => setEditing((prev) => !prev);\n\n    const onChange = (event) => {\n        const {\n            target: { value },\n        } = event;\n        setNewSmix(value);\n    };\n\n    const onSubmit = async (event) => {\n        event.preventDefault();\n        await dbService.doc(`smixs/${smixObj.id}`).update({ text: newSmix + \"(Edited)\" });\n        setEditing(false);\n    };\n\n    return (\n        <div>\n            {editing ? (\n            <>\n                <form onSubmit={onSubmit}>\n                    <input onChange={onChange} value={newSmix} required />\n                    <input type=\"submit\" value=\"Update Smix\" />\n                </form>\n                <button onClick={toggleEditing}>Cancel</button>\n            </>\n        ) : (\n            <>\n                <h4>{smixObj.text}</h4>\n                {smixObj.attachmentUrl && (\n                    <img src={smixObj.attachmentUrl} height=\"200px\" alt=\"Smix images\" />\n                )}\n                {isOwner && (\n                    <>\n                        <button onClick={onDeleteClick}>Delete Smix</button>\n                        <button onClick={toggleEditing}>Edit Smix</button>\n                    </>\n                )}\n            </>\n        )}\n        </div>\n    );\n};\n\nexport default Smix;","import React, { useState } from \"react\";\nimport { storageService, dbService } from \"../fbase\";\nimport { getDownloadURL, ref, uploadString } from \"@firebase/storage\";\nimport { v4 } from \"uuid\";\n\nconst SmixFactory = ({ userObj }) => {\n    const [smix, setSmix] = useState(\"\");\n    const [attachment, setAttachment] = useState(\"\");\n\n    const onSubmit = async (event) => {\n        event.preventDefault();\n        let attachmentUrl = \"\";\n        if (attachment !== \"\") {\n          const attachmentRef = ref(storageService, `${userObj.uid}/${v4()}`);\n          const response = await uploadString(attachmentRef, attachment, \"data_url\");\n          attachmentUrl = await getDownloadURL(response.ref);\n        }\n        await dbService.collection(\"smixs\").add({\n          text: smix,\n          createdAt: Date.now(),\n          creatorId: userObj.uid,\n          attachmentUrl,\n        });\n        setSmix(\"\");\n        setAttachment(\"\");\n    };\n\n    const onChange = (event) => {\n        event.preventDefault();\n        const {\n          target: { value },\n        } = event;\n        setSmix(value);\n    };\n\n    const onFileChange = (event) => {\n        const {\n          target: { files },\n        } = event;\n        const theFile = files[0];\n        const reader = new FileReader ();\n        reader.onloadend = (finishedEvent) => {\n          const {\n            currentTarget: { result },\n          } = finishedEvent;\n          setAttachment(result);\n        };\n        reader.readAsDataURL(theFile);\n    };\n      \n    const onClearAttachment = () => {setAttachment(\"\")};\n    \n    return (\n        <form onSubmit={onSubmit}>\n          <input\n            value={smix}\n            onChange={onChange}\n            type=\"text\"\n            placeholder=\"What's on your mind?\"\n            maxLength={120}\n          />\n          <input type=\"file\" accept=\"image/*\" onChange={onFileChange} /> \n          <input type=\"submit\" value=\"Smix\" />\n          {attachment && (\n            <div>\n              <img src={attachment} width=\"50px\" height=\"50px\" alt=\"preview\" />\n              <button onClick={onClearAttachment}>Clear</button>\n            </div>\n          )}\n        </form>\n    );\n};\n\nexport default SmixFactory;","import { dbService } from \"../fbase\";\nimport React, { useState, useEffect } from \"react\";\nimport Smix from \"../components/Smix\";\nimport SmixFactory from \"../components/SmixFactory\";\n\nconst Home = ({ userObj }) => {\n  const [smixs, setSmixs] = useState([]);\n\n  useEffect(() => {\n    dbService.collection(\"smixs\").orderBy(\"createdAt\", \"desc\").onSnapshot((snapshot) => {\n      const newArray = snapshot.docs.map((document) => ({\n        id:document.id,\n        ...document.data(), \n      }));\n      setSmixs(newArray);\n    });\n  }, []);\n\n  return (\n    <>\n      <SmixFactory userObj={userObj} />\n      <div>\n        {smixs.map((smix) => (\n          <Smix \n            key={smix.id}\n            smixObj={smix}\n            isOwner={smix.creatorId === userObj.uid}\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\"; \nimport { authService } from \"../fbase\";\n/* import { collection, getDocs, query, where, orderBy } from \"@firebase/firestore\"; */\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Profile = ({ userObj, refreshUser }) => {\n  const history = useHistory();\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n\n  const onLogOutClick = () => {\n    authService.signOut();\n    history.push(\"/\");\n  };\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDisplayName(value);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (userObj.displayName !== newDisplayName) {\n      await userObj.updateProfile({ displayName: newDisplayName });\n      refreshUser();\n    }\n  };\n\n  /* const getMySmixs = async () => {\n    const smixs = query(\n      collection(dbService, \"smixs\"),\n      where(\"creatorId\", \"==\", `${userObj.uid}`),\n      orderBy(\"createdAt\", \"asc\")\n    );\n\n    const querySnapshot = await getDocs(smixs);\n    querySnapshot.forEach((doc) => {\n      console.log(doc.id, \"=>\", doc.data());\n    });\n    \n  };\n\n  useEffect(() => {\n    getMySmixs();\n  }, []); */\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <input \n          onChange={onChange}\n          type=\"text\"\n          placeholder=\"Display Name\"\n          value={newDisplayName}\n        />\n        <input type=\"submit\" value=\"Update Profile\" />\n      </form>\n      <button onClick={onLogOutClick}>Log Out</button>\n    </>\n  );\n};\n\nexport default Profile;\n\n\n\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Navigation = ({ userObj }) => (\n  <nav>\n    <ul>\n      <li>\n        <Link to=\"/\">Home</Link>\n      </li>\n      <li>\n        <Link to=\"/profile\">{userObj.displayName}'s Profile</Link>\n      </li>\n    </ul>\n  </nav>\n);\nexport default Navigation;\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  Switch\n} from \"react-router-dom\";\nimport Auth from \"../routes/Auth\";\nimport Home from \"../routes/Home\";\nimport Profile from \"../routes/Profile\";\nimport Navigation from \"./Navigation\";\n\nconst AppRouter = ({ isLoggedIn, userObj, refreshUser }) => {\n  return (\n    <Router>\n      {isLoggedIn && <Navigation userObj={userObj} />}\n      <Switch>\n        {isLoggedIn ? (\n          <>\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile refreshUser={refreshUser} userObj = {userObj} />\n            </Route>\n          </>\n        ) : (\n          <>\n            <Route exact path=\"/\">\n              <Auth />\n            </Route>\n          </>\n        )}\n      </Switch>\n    </Router>\n  );\n};\nexport default AppRouter;\n","import React, { useState, useEffect } from \"react\";\nimport AppRouter from \"./Router\";\nimport { authService } from \"../fbase\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setUserObj({\n          uid: user.uid,\n          displayName: user.displayName,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        setUserObj(false);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      uid: user.uid,\n      displayName: user.displayName,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          isLoggedIn={Boolean(userObj)}\n          userObj={userObj} \n        />\n      ) : ( \n        \"Initializing...\"\n      )}\n      <footer>&copy; {new Date().getFullYear()} SocialMix</footer>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}